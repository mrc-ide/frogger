{{header}}

#pragma once

#include <Rcpp.h>
#include <unsupported/Eigen/CXX11/Tensor>

#include "types.hpp"
#include "r_utils.hpp"

template<typename ModelVariant, typename real_type>
leapfrog::Parameters<ModelVariant, real_type> setup_model_params(const Rcpp::List &data,
                                                    const leapfrog::Options<real_type> &options,
                                                    const int proj_years) {
  constexpr auto ss = leapfrog::StateSpace<ModelVariant>();

{{default_data}}

{{structs}}

  const leapfrog::BaseModelParameters<real_type> base_model_params = {
        options,
        demography_params,
        incidence_params,
        natural_history_params,
        art_params
  };

{{optional_data}}
}
